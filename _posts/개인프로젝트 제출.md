

#  AI(인공지능) 기반 챗봇 서비스

### 주제 : 챗봇을 이용한 서울 관광지 추천봇



## 프로젝트 소개 

서울의 행정구별 관광지에 대한 정보를 제공하여 사용자들에게 신선한 체험의 기회를 제공하기 위해 챗봇을 제작하였다. 이를 통해 많은 사람들이 알지 못했던 장소를 알릴 수 있는 효과를 기대할 수 있다. 사용자 별로 특색에 맞는 관광지를 추천해 주며, 관광지를 찾아야 하는 불필요한 노동과 수고, 시간낭비를 덜 수 있다.



## DATA

 ### 오픈API 및 웹크롤링을 이용해 데이터 제작

- 공공데이터포털에서 제공하는 '한국관광공사 국문 관광정보 서비스_GW' 오픈 API를 이용해 사용할 데이터 제작하며 추가적으로 필요한 데이터는 웹크롤링을 이용한다.

  ![image-20230206144321659](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206144321659.png)

  

  ![](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206144254485.png)

  - 여러 데이터를 종합해 만든 데이터 모음





## 챗봇 소개

- 만들어진 데이터를 활용하여 카테고리별 챗봇을 제작.

- 여러 카테고리의 챗봇을 하나의 앱에서 사용할 수 있도록 앱 제작.

- 카테고리는 대분류 중분류 소분류 로 구분한다.

- 대분류에는 문화예술/자연명소/레포츠/쇼핑/음식점/숙박시설이 있다. 

- 문화예술은 다시 건축.조형물/산업관광지/역사관광지/체험관광지/휴양관광지/문화시설로 나뉜다.

- 자연명소는 강.계곡.폭포/공원 으로 나뉜다.

  

  

## 작품 구상도

• SW 구성도

- Dialog Flow를 이용 : 구글의 머신러닝기술을 활용하여 사용자의 니즈를 예측하여 그에 맞는 질문과 대답들을 업데이트한다.

![GCP : Dialogflow - hypemarc | 하이프마크](data:image/png;base64,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)



-  ngrok 이용 페이스북 메시지 등과 같이 외부 서버와 연결하여 외부 사용자가 이용가능하게 한다.

  ![image-20230206141313385](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206141313385.png)

  ![image-20230206141459921](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206141459921.png)

  - 다이어 플로우와 ngrok 연결

  ```python
  from flask import Flask, request
  import requests
  app = Flask(__name__)
  FB_API_URL = 
  VERIFY_TOKEN=
  PAGE_ACCESS_TOKEN=
  def send_message(recipient_id, text):
      """Send a response to Facebook"""
      payload = {
          'message': {
              'text': text
          },
          'recipient': {
              'id': recipient_id
          },
          'notification_type': 'regular'
      }
  
      auth = {
          'access_token': PAGE_ACCESS_TOKEN
      }
  
      response = requests.post(
          FB_API_URL,
          params=auth,
          json=payload
      )
  
      return response.json()
  
  def get_bot_response(message):
      """This is just a dummy function, returning a variation of what
      the user said. Replace this function with one connected to chatbot."""
      return "This is a dummy response to '{}'".format(message)
  
  
  def verify_webhook(req):
      if req.args.get("hub.verify_token") == VERIFY_TOKEN:
          return req.args.get("hub.challenge")
      else:
          return "incorrect"
  
  def respond(sender, message):
      """Formulate a response to the user and
      pass it on to a function that sends it."""
      response = get_bot_response(message)
      send_message(sender, response)
  
  
  def is_user_message(message):
      """Check if the message is a message from the user"""
      return (message.get('message') and
              message['message'].get('text') and
              not message['message'].get("is_echo"))
  
  
  @app.route("/webhook", methods=['GET'])
  def listen():
      """This is the main function flask uses to
      listen at the `/webhook` endpoint"""
      if request.method == 'GET':
          return verify_webhook(request)
  
  @app.route("/webhook", methods=['POST'])
  def talk():
      payload = request.get_json()
      event = payload['entry'][0]['messaging']
      for x in event:
          if is_user_message(x):
              text = x['message']['text']
              sender_id = x['sender']['id']
              respond(sender_id, text)
  
      return "ok"
  
  @app.route('/')
  def hello():
      return 'hello'
  
  if __name__ == '__main__':
      app.run(threaded=True, port=5000)
  
  ```

  - ngrok과 페이스북 메세지 연결 코드 

    

- Open Api를 이용하여 정보를 수집하고 이를 Dialog Flow와 연결하여 챗봇이 사용자의 니즈에 맞는 정보를 제공한다. 본 챗봇의 경우 관광지 데이터를 공공데이터포털 에서 제공받아 이를 Dialog Flow와 연결하여 사용자에게 정보를 제공한다.

  

- 공공데이터포털에서 제공하지 않는 정보들이나 인터넷에 있는 정보를 활용하기 위하여 Web crawling 기술을 활용해 더 많은 정보를 제공한다.

  

- Dialog Flow 대화문 작성

```python
# -*- coding: utf-8 -*-



# 파일로 출력하기

i = 1

# 출력, 입력 값 JSON 파일을 생성합니다.

prev = str(conversations[0].contentName) + str(conversations[0].contentType)

f = open(prev + '.json', 'w', encoding='UTF-8')

f.write('{ "id": "10d3155d-4468-4118-8f5d-15009af446d0", "name": "' + prev + '", "auto": true, "contexts": [], "responses": [ { "resetContexts": false, "affectedContexts": [], "parameters": [], "messages": [ { "type": 0, "lang": "en", "speech": "' + conversations[0].answer + '" } ], "defaultResponsePlatforms": {}, "speech": [] } ], "priority": 500000, "webhookUsed": false, "webhookForSlotFilling": false, "fallbackIntent": false, "events": [] }')

f.close()

f = open(prev + '_usersays_en.json', 'w', encoding='UTF-8')

f.write("[")

f.write('{ "id": "3330d5a3-f38e-48fd-a3e6-000000000001", "data": [ { "text": "' + conversations[0].question + '", "userDefined": false } ], "isTemplate": false, "count": 0 },')



while True:

    if i >= len(conversations):

        f.write("]")

        f.close()

        break;

    c = conversations[i]

    if prev == str(c.contentName) + str(c.contentType):

        f.write('{ "id": "3330d5a3-f38e-48fd-a3e6-000000000001", "data": [ { "text": "' + c.question + '", "userDefined": false } ], "isTemplate": false, "count": 0 }')

    else:

        f.write("]")

        f.close()

        # 출력, 입력 값 JSON 파일을 생성합니다.

        prev = str(c.contentName) + str(c.contentType)

        f = open(prev + '.json', 'w', encoding='UTF-8')

        f.write('{ "id": "10d3155d-4468-4118-8f5d-15009af446d0", "name": "' + prev + '", "auto": true, "contexts": [], "responses": [ { "resetContexts": false, "affectedContexts": [], "parameters": [], "messages": [ { "type": 0, "lang": "en", "speech": "' + c.answer + '" } ], "defaultResponsePlatforms": {}, "speech": [] } ], "priority": 500000, "webhookUsed": false, "webhookForSlotFilling": false, "fallbackIntent": false, "events": [] }')

        f.close()

        f = open(prev + '_usersays_en.json', 'w', encoding='UTF-8')

        f.write("[")

        f.write('{ "id": "3330d5a3-f38e-48fd-a3e6-000000000001", "data": [ { "text": "' + c.question + '", "userDefined": false } ], "isTemplate": false, "count": 0 }')

    i = i + 1
```

코드 실행결과

![image-20230206142838527](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206142838527.png)



• H/W 구성도
- 사용자가 자신의 스마트폰, PC를 이용하여 페이스북 메신저를 통해 챗봇에 접속한다.

  

  ![Messenger](data:image/png;base64,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)

  

- 데이터 베이스로는 mongoDB를 사용했다.  

  

  ![파일:MongoDB Logo.svg - 위키백과, 우리 모두의 백과사전](data:image/png;base64,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)

  

- 챗봇은 데이터를 보관하고 분석하는 AWS 서버를 활용하여 사용자에게 데이터를 제공한다.

- 또한, Amazon EC2를 이용하여 원하는 수의 가상 서버를 구축하고 보안 및 네트워킹 을 구성하며 스토리지를 관리한다.



![image-20230204103347127](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230204103347127.png)

• 서비스 흐름도
- 페이스북이 제공하는 기능(카테고리 등)을 이용해 사용자가 이용하기 편한 화면으로 구성한다.
- NLP Engine으로 Dialog Flov를 활용한다. nerok을 이용해 서버를 만들어 DialogFlow의 Webhook을 연결한다. 이후 페이스북 메신저와 DialogFlow를 연결해
U를 구성하고, 백엔드 서비스를 띄워 답변 제공이 가능하게 한다.
![image-20230204103425218](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230204103425218.png)



메뉴 구성도

![image-20230204103636682](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230204103636682.png)



엔티티 관계도 

![image-20230204103731080](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230204103731080.png)

알고리즘 시나리오

![image-20230204103955294](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230204103955294.png)

ⅰ. 사용자로부터 원하는 관광지에 관련된 키워드를 입력 받습니다.

ⅱ. 관련된 키워드가 Database와 일치하는 지 확인합니다.

ⅲ. 일치할 경우 챗봇이 수집한 데이터를 기반으로 사용자의 요구에 알맞은 관광정보를 추천합니다.

ⅳ. 일치하지 않을 경우 대화를 종료합니다.



## 결과물



![image-20230206145413809](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206145413809.png)



![image-20230206145446348](C:\Users\8800s\AppData\Roaming\Typora\typora-user-images\image-20230206145446348.png)

작품 시연 영상의 일부

[2022 한이음 최종보고서 시연 영상 - YouTube](https://www.youtube.com/watch?v=pdcLrldZBpM)







